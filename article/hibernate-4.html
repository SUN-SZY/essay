<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<link rel="stylesheet" href="./_assets/main.css" />
    <title>❽Hibernate  规范 - SUN</title>
  <link rel="stylesheet" href="/_markdown_plugin_assets/highlight.js/atom-one-light.css" /></head>
  <body>
    <div class="main">
      <nav class="navigation">
        <a href="/">SUN</a>
      </nav>
      <article>
        <header>
          <h1 class="article-title">❽Hibernate  规范</h1>
          <div class="article-info">
            <div>
              <span
                >Created At：<time datetime="1636449000000"
                  >2021-11-09 17:10</time
                ></span
              >
              <span
                >Updated At：<time datetime="1642922536861"
                  >2022-01-23 15:22</time
                ></span
              >
            </div>
            
            <div>
              Keywords: 
              <span class="keyword">&gt;&gt; untagged &lt;&lt;</span>
              
            </div>
            
          </div>
        </header>
        <div class="article-content markdown-body"><p><a title="../../../JavaWeb/%E6%A1%86%E6%9E%B6/hibernate/%E3%88%A0%E2%9D%B6Hibernate%20%E5%A4%9A%E8%A1%A8%E5%85%B3%E7%B3%BB.md" href="../../../JavaWeb/%E6%A1%86%E6%9E%B6/hibernate/%E3%88%A0%E2%9D%B6Hibernate%20%E5%A4%9A%E8%A1%A8%E5%85%B3%E7%B3%BB.md">Hibernate 多表关系</a></p>
<p><a>相关笔记外链</a></p>
<h2 id="一-实体类操作或称为javabean持久化类">一、实体类操作（或称为JavaBean）（持久化类）</h2>
<ul>
<li>实体类属性都是私有的</li>
<li>实体类属性使用get and set方法操作</li>
<li>要求实体类属性包含唯一值（一般使用id值）</li>
<li>实体类中的属性建议不使用基本的数据类型，而使用基本数据类型对应的包装类
<ul>
<li>基本数据类型对应的包装类
<ul>
<li>int — Ineteger</li>
<li>char — Character</li>
<li>其他的都是首字母大写</li>
</ul>
</li>
<li>例子 学生的分数，假如分数为零 int score = 0；但是不能表示学生是否参加考试
<ul>
<li>解决 ： 使用包装类，Integer score = 0 ；表示学生得了零分</li>
<li>Integer score = null；表示学生没有参加考试</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="二-主键增长策略">二、主键增长策略</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>increment</td>
<td>用于long、shrot、或int类型，由Hibernate自动以递增的方式生成唯一标识符，每次增量为1.只有当没有其他进程向同一张表中插入数据时适用，不能在集群环境下适用，适用于代理主键</td>
</tr>
<tr>
<td>identity</td>
<td>采用底层数据库本身提供的主键生成标识符，条件是数据库支持自动增长数据类型。在 DB2、MySQL、MS SQL Server、Sybase和HypersonicSQL 数据库中可以使用该生成器，该生成器要求在数据库中把主键定义成为自增长类型。适用于代理主键。</td>
</tr>
<tr>
<td>sequence</td>
<td>Hibernate根据底层数据库序列生成标识符。条件是数据库支持序列。适用于代理主键。</td>
</tr>
<tr>
<td><a color="red" class="jop-noMdConv">native</a></td>
<td>根据底层数据库对自动生成表示符的能力来选择identity 、sequence、hilo三种生成器中的一种，适合跨数据库平台开发。适用于代理主键。</td>
</tr>
<tr>
<td><a color="red" class="jop-noMdConv">uuid</a></td>
<td>Hibernate采用128位的UUID算法来生成标识符。该算法能够在网络环境中生成唯一的字符串标识符，其UUID被编码为一个长度为32位的十六进制字符串。这种策略并不流行，因为字符串类型的主键比整数类型的主键占用更多的数据库空间。适用于代理主键。</td>
</tr>
<tr>
<td>assigned</td>
</tr>
</tbody>
</table>
<h2 id="三-实体类操作">三、实体类操作</h2>
<ul>
<li>对实体类进行curd操作
<ul>
<li>
<p>调用session中的方法实现</p>
</li>
<li>
<p>根据id查询</p>
<ul>
<li>数据库语句 <code>SELECT * form hibernate where uid = ？</code></li>
<li>创建方法
<ul>
<li>调用工具类得到SessionFactory</li>
<li>获取session</li>
<li>开启事务</li>
<li>根据id查询
<ul>
<li>调用session里面的get方法
<ul>
<li>第一个参数：实体类的class</li>
<li>第二个参数：id值
<ul>
<li><code>User user=session.get（User.class，1 ）</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>修改操作</p>
<ul>
<li>首先查询再修改值
<ul>
<li>除核心代码为其余代码一致
<ul>
<li>
<p>根据id查询</p>
</li>
<li>
<p>向返回的user对象里面设置修改后的值</p>
</li>
<li>
<p>调用session的方法update修改</p>
<ul>
<li>执行过程：到user中找到uid的值，根据uid进行修改</li>
</ul>
<div><pre class="hljs"><code> 		User.setname（“*****”）
   		session.update（user）</code></pre></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>删除操作</p>
<ul>
<li>第一种方式 根据id查询</li>
</ul>
<div><pre class="hljs"><code>    User user=session.get(User.class,<span class="hljs-number">2</span>);
    session.delete(user);
</code></pre></div>
<ul>
<li>第二种方式</li>
</ul>
<div><pre class="hljs"><code>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();
    user.setUid(<span class="hljs-number">3</span>);
    session.delete(user);
</code></pre></div>
</li>
<li>
<p>save Or update 操作</p>
<ul>
<li>第一种</li>
</ul>
<div><pre class="hljs"><code>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();
    user.setUid(<span class="hljs-number">1</span>);
    user.setUsername(<span class="hljs-string">"mary"</span>);
    user.setPassword(<span class="hljs-string">"250"</span>);
    user.setAddress(<span class="hljs-string">"越南"</span>);
    session.save(user);</code></pre></div>
<ul>
<li>第二种</li>
</ul>
<div><pre class="hljs"><code>    User user=<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();
    user.setUid(<span class="hljs-number">1</span>);
    user.setUsername(<span class="hljs-string">"tom"</span>);</code></pre></div>
</li>
</ul>
</li>
</ul>
<h2 id="四-实体类对象的状态">四、实体类对象的状态</h2>
<ul>
<li>顺时态
<ul>
<li>对象中没有id值</li>
<li>对象与session没有关联</li>
</ul>
</li>
<li>持久态
<ul>
<li>对象里面有id值</li>
<li>对象与session有关联</li>
</ul>
</li>
<li>托管态
<ul>
<li>对象里面有id值</li>
<li>对象与session没有关联</li>
</ul>
</li>
</ul>
<p><a title="joplin://x-callback-url/openNote?id=32fe3da20d9a49bbb9aa176ee790ef91">Markdown语法</a></p>
</div>
      </article>
    </div>
  </body>
</html>
